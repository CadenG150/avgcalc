<!DOCTYPE html>
<html>
<head>
	<title>Average Calculator</title>
    <meta chartset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <h1 id="header">What Do I Need?</h1>
            <div class="row top-small-buffer"></div>
            <h2 id="info"><small>Formula By u/olimo</small></h2>
	    <p>Disclaimer: X.X for desired will not do all averages in that tenth of a second.  For example, if your times allow you to get 9.85, but you put 9.8 desired, you will not get it because 9.8 will act as 9.80.</p>
            <div class="row top-buffer"></div>
          </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <h1 id="placehold"></h1>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-2">

            </div>
            <div class="col-lg-4">
                <label for="timeInput1" class="form-label">Time 1</label>
                <input type="text" class="form-control" id="timeInput1">
            </div>
            <div class="col-lg-4">
                <label for="timeInput2" class="form-label">Time 2</label>
                <input type="text" class="form-control" id="timeInput2">
            </div>
            <div class="col-lg-2">

            </div>
        </div>
        <div class="row top-buffer"></div>
        <div class="row">
            <div class="col-lg-2">

            </div>
            <div class="col-lg-4">
                <label for="timeInput3" class="form-label">Time 3</label>
                <input type="text" class="form-control" id="timeInput3">
            </div>
            <div class="col-lg-4">
                <label for="timeInput4" class="form-label">Time 4</label>
                <input type="text" class="form-control" id="timeInput4">
            </div>
            <div class="col-lg-2">

            </div>
        </div>
        <div class="row top-buffer"></div>
        <div class="row">
            <div class="col-lg-4">
            </div>
            <div class="col-lg-4">
                <label for="averageInput" class="form-label">Desired AO5</label>
                <input type="text" class="form-control" id="averageInput">
            </div>
            <div class="col-lg-4">

            </div>
        </div>
        <div class="row top-buffer"></div>
        <div class="row">
            <div class="col-sm-12">
                <button type="button" class="btn btn-primary" onclick="calculateTimes()">Calculate</button>
            </div>            
        </div>
        <div class="row">
            <div class="col-sm-12">
                <button type="button" class="btn btn-primary" id ="resetter" onclick="reset()">Reset</button>
            </div>
        </div>
      </div>
      
</body>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap');
    .container {
        text-align: center;
    }
    .h1 {
        font-family: 'Montserrat', sans-serif;
        font-size: 2em;
    }
    .top-buffer { 
        margin-top: 50px;
    }
    .top-small-buffer {
        margin-top: 30px;
    }
    .btn {
        font-size: 2em;
    }
</style>
<script>
    $("#resetter").hide();
    function calculateTimes() {
        t1 = parseFloat(document.getElementById("timeInput1").value)
        t2 = parseFloat(document.getElementById("timeInput2").value)
        t3 = parseFloat(document.getElementById("timeInput3").value)
        t4 = parseFloat(document.getElementById("timeInput4").value)
        average = parseFloat(document.getElementById("averageInput").value)

        times = [t1, t2, t3, t4].sort((a,b) => a-b)

        $(".col-lg-4").children().hide();
        $(".col-sm-12").children().hide();
        $("#resetter").show();

        max = (times.reduce((a, b) => a + b, 0) - times[0])/3
        min = (times.reduce((a, b) => a + b, 0) - times[3])/3

        if (average > max) {
            document.getElementById("placehold").innerHTML = "Any Time Guarantees The Average"
        } else if (average <= max && average >= min) {
            document.getElementById("placehold").innerHTML = (3*average-(times.reduce((a, b) => a + b, 0)-times[0]-times[3])).toFixed(2)
        } else {
            document.getElementById("placehold").innerHTML = "This Is Not Possible"
        }
    }
    function reset() {
        $(".col-lg-4").children().show();
        $(".col-sm-12").children().show();
        $("#resetter").hide();
        document.getElementById("placehold").innerHTML = ""
    }
</script>
</html>
